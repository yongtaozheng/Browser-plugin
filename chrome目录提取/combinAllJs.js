class ExpandJY{constructor(e={}){this.config=e,this.isOpen=!0,this.init()}init(){}obj2Style(e){var t=[];for(const n in e)t.push(n+":"+e[n]);return t.join(";")}generateBtn(e,t,n={margin:"auto",cursor:"pointer",color:"#5598EF","text-decoration":"underline"}){var o=document.createElement("span");return o.style=this.obj2Style(n),o.innerText=e,o.onclick=t,o}generate(e=this.config){var t=document.createElement("div"),n=(t.classList.add("ExpandJY"),this.generateHeader(e)),e=this.generateBody(e);return t.appendChild(n),t.appendChild(e),t}generateHeader(e=this.config){var t=document.createElement("div");t.classList.add("ExpandJYHeader"),t.style=this.obj2Style({display:"flex",width:"100%","border-bottom":"1px solid #e5dada"});let n=e.title||"标题";"string"==typeof n&&((i=document.createElement("h3")).innerText=n,n=i),n.style=this.obj2Style({padding:"10px 0",margin:"0 10px",flex:1});var o=document.createElement("div"),i=this.generateBtn(this.isOpen?"收起":"展开",()=>{this.isOpenChange()}),i=(this.expandBtn=i,o.style=this.obj2Style({display:"flex",padding:"10px"}),o.append(i),e.btns||[]);for(const r of i){var a=this.generateBtn(r.text,r.cb,r.styleObj);o.append(a)}return t.appendChild(n),t.appendChild(o),t}generateBody(e=this.config){var t=document.createElement("div");t.classList.add("ExpandJYBody");let n=e.body||"容器";return"string"==typeof n&&((e=document.createElement("div")).innerText=n,n=e),t.appendChild(n),this.body=t}isOpenChange(){this.isOpen=!this.isOpen,this.expandBtn.innerText=this.isOpen?"收起":"展开",this.body.style.display=this.isOpen?"block":"none"}}function obj2Style(e){var t=[];for(const n in e)t.push(n+":"+e[n]);return t.join(";")}window.ExpandJY=ExpandJY,window.expandJY=new ExpandJY;class ToastJY{constructor(e={}){this.config=e,this.pDom=null,this.init(e.pDom)}init(e=null){let t=document.body;e&&(t=e),this.pDom=t;var n=document.createElement("div"),o=(n.id="toastContainer",{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"rgba(0, 0, 0, 0.8)",color:"#ffffff",fontSize:"16px",opacity:.7,transition:"opacity 0.3s ease-in-out",padding:"10px","border-radius":"5px",display:"none",textAlign:"center"});for(const d in o)n.style[d]=o[d];t.appendChild(n);var i=document.createElement("div"),a=(i.id="toastLoader",{border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",width:"20px",height:"20px",animation:"spin 1s linear infinite",margin:"0 auto 10px",display:"none"});for(const l in a)i.style[l]=a[l];n.appendChild(i);var r=document.createElement("div"),s=(r.id="toastText",{marginTop:"5px"});for(const c in s)r.style[c]=s[c];n.appendChild(r);e=document.createElement("style");e.innerHTML=`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `,document.head.appendChild(e)}showToast(e){this.pDom.querySelector("#toastText").innerText=e,toastContainer.style.display="block",setTimeout(()=>this.hide(),3e3)}showLoading(e="加载中..."){var t=this.pDom.querySelector("#toastLoader");this.pDom.querySelector("#toastText").innerText=e,t.style.display="block",this.show()}show(){this.pDom.querySelector("#toastContainer").style.display="block"}hide(){try{var e=document.querySelector("#toastContainer"),t=document.querySelector("#toastLoader");e.style.display="none",t.style.display="none"}catch(e){}}}window.ToastJY=ToastJY,window.toastJY=new ToastJY,(()=>{var e=new Array(6).fill(null).map((e,t)=>"h"+(t+1));let o=null,t=[];e.forEach(e=>{t.push(...document.querySelectorAll(e))}),t=(t=t.filter(e=>{return![...e.classList].includes("chromeCatalogueJY")})).sort((e,t)=>e.offsetTop-t.offsetTop);const i=document.createElement("div");t.forEach(e=>{const t=document.createElement("div");t.classList.add("chromeCatalogueJY"),t.innerText=e.innerText;var n=(parseInt(e.localName.slice(1))||1)-1;t.style.marginLeft=n+"em",t.onclick=()=>{window.scrollTo(0,e.offsetTop-100),o&&(o.item.style.color=o.color,o.item.style.background=o.background,o.menuItem.style.color="black"),o={item:e,color:e.style.color,background:e.style.background,menuItem:t},e.style.color="#fff",e.style.background="orange",t.style.color="orange"},i.appendChild(t)});e=document.querySelector("#chromeCatalogueJY"),e&&document.body.removeChild(e),e=document.createElement("div"),e.innerText="页面目录提取",e=(new ExpandJY).generate({title:e,body:i});e.style=obj2Style({right:"0",position:"fixed",top:"10px","z-index":"99999",cursor:"pointer","max-height":"60vh",overflow:"scroll",background:"#fff","text-align":"left","padding-left":"1em",opacity:"0.8",color:"black","font-weight":"bold","max-width":"30vw"}),e.id="chromeCatalogueJY",document.body.appendChild(e)})();